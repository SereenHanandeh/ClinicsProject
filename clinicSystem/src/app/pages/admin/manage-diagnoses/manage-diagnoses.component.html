<h2 class="mb-4 fw-bold text-center">Manage Diagnoses</h2>

<div class="container p-4 rounded bg-white">

  <!-- Add Diagnosis Form -->
  <form (ngSubmit)="addDiagnosis()" class="row g-2 align-items-center mb-4">
    <div class="col-md-9 position-relative">
      <!-- Search Input with Icon -->
      <input [(ngModel)]="newDiagnosis.name"
             name="name"
             class="form-control"
             placeholder="ðŸ” Enter new diagnosis">
      <!-- Optional: Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ ØªØ³ØªØ®Ø¯Ù… SVG Ø£Ùˆ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ© -->
      <!-- <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ps-3 text-muted"></i> -->
    </div>

    <div class="col-md-3 d-grid">
      <button class="btn btn-sm btn-primary" type="submit">Add</button>
    </div>
  </form>

  <!-- Diagnosis List -->
  <ul class="list-group">
    <li *ngFor="let diagnosis of diagnoses" class="list-group-item d-flex justify-content-between align-items-center">

      <!-- View or Edit Mode -->
      <div class="flex-grow-1 me-3">
        <div *ngIf="editDiagnosisId !== diagnosis.id" class="fw-semibold">
          {{ diagnosis.name }}
        </div>
        <div *ngIf="editDiagnosisId === diagnosis.id">
          <input [(ngModel)]="editName" name="editName" class="form-control" />
        </div>
      </div>

      <!-- Buttons -->
      <div class="btn-group btn-group-sm">
        <button *ngIf="editDiagnosisId !== diagnosis.id" class="btn btn-outline-success" (click)="startEdit(diagnosis)">Edit</button>
        <button *ngIf="editDiagnosisId === diagnosis.id" class="btn btn-outline-success" (click)="saveEdit()">Save</button>
        <button *ngIf="editDiagnosisId === diagnosis.id" class="btn btn-outline-secondary" (click)="cancelEdit()">Cancel</button>
        <button class="btn btn-outline-danger" (click)="deleteDiagnosis(diagnosis.id)">Delete</button>
      </div>
    </li>
  </ul>
</div>
